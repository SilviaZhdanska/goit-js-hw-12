{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '44780398-b9dbe1b89370a8f5261d05d93';\n\nexport async function getPicturesByQuery(query) {\n  const params = {\n    key: '44784729-ebc9a0f5cc587c2700d41657d',\n    q: query,\n    imageType: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: 1,\n    per_page: 15,\n  };\n\n  const url = 'https://pixabay.com/api/';\n\n  try {\n    const response = await axios.get(url, { params });\n\n    if (response.status !== 200) {\n      throw new Error('Request failed with status ${response.status}');\n    }\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst cardContainer = document.querySelector('.card-container');\n\nexport function renderGallery(images) {\n  const cardContainer = document.querySelector('.card-container');\n  const markup = images\n    .map(\n      image => `\n    <div class=\"card\">\n      <div class=\"card-img-top\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" >\n        </a>\n      </div>\n      <div class=\"card-body\">\n        <h2 class=\"card-title visually-hidden\">${image.tags}</h2>\n        <p class=\"card-text\">Likes: ${image.likes}</p>\n        <p class=\"card-text\">Views: ${image.views}</p>\n        <p class=\"card-text\">Comments: ${image.comments}</p>\n        <p class=\"card-text\">Downloads: ${image.downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n\n  cardContainer.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.card-img-top a', {\n    captions: true,\n    captionsData: 'alt',\n  });\n\n  lightbox.refresh();\n}\n\nexport function showNoResultsMessage() {\n  iziToast.info({\n    backgroundColor: 'red',\n    position: 'topRight',\n    title: 'Info',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\nexport function showFetchErrorMessage() {\n  console.error('Error fetching images');\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there was an error fetching images. Please try again later.',\n  });\n}\n","import axios from 'axios';\nimport { getPicturesByQuery } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  showNoResultsMessage,\n  showFetchErrorMessage,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nsearchForm.addEventListener('submit', handleSearch);\n\nasync function handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase();\n\n  if (!queryValue) {\n    return;\n  }\n\n  loader.style.display = 'inline-block';\n\n  try {\n    const data = await getPicturesByQuery(queryValue);\n    loader.style.display = 'none';\n\n    if (data.hits.length === 0) {\n      showNoResultsMessage();\n    } else {\n      renderGallery(data.hits);\n    }\n  } catch (error) {\n    loader.style.display = 'none';\n    showFetchErrorMessage();\n  } finally {\n    form.reset();\n  }\n}\n"],"names":["getPicturesByQuery","query","params","url","response","axios","error","renderGallery","images","cardContainer","markup","image","SimpleLightbox","showNoResultsMessage","iziToast","showFetchErrorMessage","searchForm","loader","handleSearch","event","form","queryValue","data"],"mappings":"+vBAIO,eAAeA,EAAmBC,EAAO,CAC9C,MAAMC,EAAS,CACb,IAAK,qCACL,EAAGD,EACH,UAAW,QACX,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACd,EAEQE,EAAM,2BAEZ,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAIF,EAAK,CAAE,OAAAD,CAAM,CAAE,EAEhD,GAAIE,EAAS,SAAW,IACtB,MAAM,IAAI,MAAM,+CAA+C,EAGjE,OAAOA,EAAS,IACjB,OAAQE,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,OAAO,CAC9B,CACH,CCtBsB,SAAS,cAAc,iBAAiB,EAEvD,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA;AAAA,mBAGIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iDAIXA,EAAM,IAAI;AAAA,sCACrBA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIpD,EACA,KAAK,EAAE,EAEVF,EAAc,UAAYC,EAET,IAAIE,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,KAClB,CAAG,EAEQ,QAAO,CAClB,CAEO,SAASC,GAAuB,CACrCC,EAAS,KAAK,CACZ,gBAAiB,MACjB,SAAU,WACV,MAAO,OACP,QACE,0EACN,CAAG,CACH,CAEO,SAASC,GAAwB,CACtC,QAAQ,MAAM,uBAAuB,EACrCD,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACN,CAAG,CACH,CClDA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpD,GAAKC,EAIL,CAAAJ,EAAO,MAAM,QAAU,eAEvB,GAAI,CACF,MAAMK,EAAO,MAAMtB,EAAmBqB,CAAU,EAChDJ,EAAO,MAAM,QAAU,OAEnBK,EAAK,KAAK,SAAW,EACvBT,IAEAN,EAAce,EAAK,IAAI,CAE1B,MAAe,CACdL,EAAO,MAAM,QAAU,OACvBF,GACJ,QAAY,CACRK,EAAK,MAAK,CACX,EACH"}